
mlflow:
  enabled: True
  metrics:
  artifcats:
  parameters:
  tags:

target_variable:
  target_column_name: full_time_result
  keys: 
    - home_team
    - away_team
    - date
    - league
  encoder:
    object: pyspark.ml.feature.StringIndexer
    inputCol: full_time_result
    outputCol: tgt_full_time_result
  # inverted_encoder:
  #   object: pyspark.ml.feature.IndexToString
  #   inputCol: tgt_full_time_result
  #   outputCol: tgt_full_time_result_index

master_table:
  target_df: target_variable
  feature_families:
    - ftr_momentum

splitting_params:
  target_column_name: full_time_result
  unique_target_category_values: ["H", "D", "A"]
  train_size: 0.8
  seed: 42

imputing_transformer:
  object: pyspark.ml.feature.Imputer
  strategy: mean

assembler:
  object: pyspark.ml.feature.VectorAssembler
  outputCol: features

tuning_params:
  tuning_func:
    object: pyspark.ml.tuning.CrossValidator
    seed: 42
    parallelism: 6
    numFolds: 5
    estimator:
      object: pyspark.ml.classification.RandomForestClassifier
      labelCol: full_time_result
      featuresCol: features
    evaluator:
      object: pyspark.ml.evaluation.MulticlassClassificationEvaluator
      predictionCol: prediction
      labelCol: full_time_result
      metricName: f1
  param_grid:
    maxDepth: [5, 10]
  target_col_name: full_time_result